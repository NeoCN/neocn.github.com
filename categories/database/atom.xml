<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: DataBase | DevX.Me]]></title>
  <link href="http://NeoCN.github.com//categories/database/atom.xml" rel="self"/>
  <link href="http://NeoCN.github.com/"/>
  <updated>2012-12-01T17:11:03+08:00</updated>
  <id>http://NeoCN.github.com/</id>
  <author>
    <name><![CDATA[小马]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Oracle EXP-00003 异常解决办法]]></title>
    <link href="http://NeoCN.github.com/DataBase/Oracle/oracle-exp-00003-solutions.html"/>
    <updated>2010-01-12T00:00:00+08:00</updated>
    <id>http://NeoCN.github.com/DataBase/Oracle/oracle-exp-00003-solutions</id>
    <content type="html"><![CDATA[<p>今天下午，想在测试环境下进行数据库迁移的模拟测试，本机Oracle 版本为9.2.0.1 ，服务器Oracle版本为9.2.0.8 ，在使用EXP命令进行用户数据导出时，如果表中有数据类型是Lob的列，则会出现EXP-00003：未找到段×××的存储定义(EXP-00003 : no storage definition found for segment .....)。</p>




<p>出现 EXP-00003异常，是Oracle数据库的一个Bug。当使用低版本的EXP从高版本(9.2.0.5或者更高)去导出含有Lob列的表的时候，就会遇到EXP-00003异常。</p>




<p>为了解决这个问题，可以选择升级客户端，将客户端EXP升级到较高版本，可以解决这个Bug；当然有些人不想这么麻烦，那么可以用下面的临时解决方案(替换视图"exu9tne")：
<p style="text-align: left;">EXP导出前，在SYS用户下执行下面的SQL：</p></p>




<p><pre lang="sql">CREATE OR REPLACE VIEW exu9tne (
tsno, fileno, blockno, length) AS
SELECT ts#, segfile#, segblock#, length
FROM sys.uet$
WHERE ext# = 1
UNION ALL
SELECT * FROM SYS.EXU9TNEB
/
</pre>
<p style="text-align: left;">EXP导出完成后，执行下面的SQL恢复视图定义(Metalink建议)：</p></p>




<p><pre lang="sql">CREATE OR REPLACE VIEW exu9tne (
tsno, fileno, blockno, length) AS
SELECT ts#, segfile#, segblock#, length
FROM sys.uet$
WHERE ext# = 1
/
</pre>
PS: 下午升级数据库后，服务起不来了，自己又是菜鸟一个，折腾N久还是不行，最后一狠心，重装……唉，可怜了我辛辛苦苦导进去的数据……</p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[数据库JDBC连接方法总结]]></title>
    <link href="http://NeoCN.github.com/DataBase/jdbc-connection-code-snippets.html"/>
    <updated>2009-07-20T00:00:00+08:00</updated>
    <id>http://NeoCN.github.com/DataBase/jdbc-connection-code-snippets</id>
    <content type="html"><![CDATA[<p>好久之前整理的资料了，忘了在哪里搜集的，发出来跟大家分享：
<table border="0" cellspacing="0" cellpadding="0">
<tbody>
<tr>
<td width="115" valign="top">
<p align="left">数据库名称</p>
</td>
<td width="641" valign="top">
<p align="left">连接串</p>
</td>
</tr>
<tr>
<td width="115" valign="top">
<p align="left"><strong>MySQL</strong></p>
</td>
<td width="641" valign="top">
<p align="left">Class.forName("org.gjt.mm.mysql.Driver");</p>
<p align="left">DriverManager.getConnection(   "jdbc:mysql://MyDbComputerNameOrIP:3306/myDatabaseName", sUsr, sPwd   );</p>
</td>
</tr>
<tr>
<td width="115" valign="top">
<p align="left"><strong>PostgreSQL</strong></p>
</td>
<td width="641" valign="top">
<p align="left">Class.forName("org.postgresql.Driver");</p>
<p align="left">DriverManager.getConnection("jdbc:postgresql://MyDbComputerNameOrIP/myDatabaseName",   sUsr, sPwd );</p>
</td>
</tr>
<tr>
<td width="115" valign="top">
<p align="left"><strong>Oracle</strong></p>
</td>
<td width="641" valign="top">
<p align="left">Class.forName( "oracle.jdbc.driver.OracleDriver" );</p>
<p align="left">DriverManager.getConnection( "jdbc:oracle:thin::1521:ORCL",   sUsr, sPwd );</p>
</td>
</tr>
<tr>
<td colspan="2"><!--more--></td>
</tr>
<tr>
<td width="115" valign="top">
<p align="left"><strong>Sybase</strong></p>
</td>
<td width="641" valign="top">
<p align="left">Class.forName("com.sybase.jdbc2.jdbc.SybDriver");</p>
<p align="left">DriverManager.getConnection(   "jdbc:sybase:Tds:MyDbComputerNameOrIP:2638", sUsr, sPwd );</p>
<p align="left">//(Default-Username/Password: "dba"/"sql")</p>
</td>
</tr>
<tr>
<td width="115" valign="top">
<p align="left"><strong>SQLServer</strong></p>
</td>
<td width="641" valign="top">
<p align="left">Class.forName( "net.sourceforge.jtds.jdbc.Driver" );</p>
<p align="left">DriverManager.getConnection(   "jdbc:jtds:sqlserver://MyDbComputerNameOrIP:1433/master", sUsr,   sPwd );</p>
</td>
</tr>
<tr>
<td width="115" valign="top">
<p align="left"><strong>ODBC</strong></p>
</td>
<td width="641" valign="top">
<p align="left">Class.forName( "sun.jdbc.odbc.JdbcOdbcDriver" );</p>
<p align="left">DriverManager.getConnection( "jdbc:odbc:" + sDsn, sUsr,   sPwd );</p>
</td>
</tr>
<tr>
<td width="115" valign="top">
<p align="left"><strong>DB2</strong></p>
</td>
<td width="641" valign="top">
<p align="left">Class.forName("com.ibm.db2.jdbc.net.DB2Driver");</p>
<p align="left">DriverManager.getConnection("jdbc:db2://192.9.200.108:6789/SAMPLE",   sUsr, sPwd );</p>
</td>
</tr>
<tr>
<td width="115" valign="top">
<p align="left"><strong>SAP DB</strong></p>
</td>
<td width="641" valign="top">
<p align="left">Class.forName ("com.sap.dbtech.jdbc.DriverSapDB");</p>
<p align="left">DriverManager.getConnection ( "jdbc:sapdb://" + host +   "/" + database_name,user_name, password)</p>
</td>
</tr>
<tr>
<td width="115" valign="top">
<p align="left"><strong>InterBase</strong></p>
</td>
<td width="641" valign="top">
<p align="left">Class.forName("interbase.interclient.Driver");</p>
<p align="left">DriverManager.getConnection("jdbc:interbase://localhost/e:/testbed/database/employee.gdb",   "sysdba", "masterkey" );</p>
</td>
</tr>
<tr>
<td width="115" valign="top">
<p align="left">Microsoft <strong>SQL Server </strong>series (6.5, 7.x and 2000) and Sybase 10</p>
</td>
<td width="641" valign="top">
<p align="left">JDBC Name: jTDS</p>
<p align="left">Class.forName("net.sourceforge.jtds.jdbc.Driver ");</p>
<p align="left">DriverManager.getConnection("jdbc:jtds:sqlserver://host:port/database","user","password");or</p>
<p align="left">DriverManager.getConnection("jdbc:jtds:sybase://host:port/database","user","password");</p>
</td>
</tr>
<tr>
<td width="115" valign="top">
<p align="left"><strong>IBM AS400</strong></p>
</td>
<td width="641" valign="top">
<p align="left">装V4R4以上版本的Client Access Express可以在C:Program FilesIBMClient Accessjt400ib找到 driver 档案 jt400.zip，并更改扩展名成为 jt400.jar语法</p>
<p align="left">java.sql.DriverManager.registerDriver (new   com.ibm.as400.access.AS400JDBCDriver ());</p>
<p align="left">Class.forName("com.ibm.as400.access.AS400JDBCConnection");con   = DriverManager.getConnection("jdbc:as400://IP","user","password");</p>
</td>
</tr>
<tr>
<td width="115" valign="top">
<p align="left"><strong>Informix</strong></p>
</td>
<td width="641" valign="top">
<p align="left">Class.forName("com.informix.jdbc.IfxDriver").newInstance();</p>
<p align="left">String url =   "jdbc:informix-sqli://123.45.67.89:1533/testDB:INFORMIXSERVER=myserver;   user=testuser;password=testpassword";</p>
</td>
</tr>
</tbody></table>
<p align="left"></p></p>

]]></content>
  </entry>
  
</feed>
